var teams = ["North Carolina","Oregon","West Virginia","Gonzaga","Kansas","UCLA","Baylor","Florida St.","Kentucky","TCU","Minnesota","Illinois","Georgia Tech","Syracuse","Northwestern","Wyoming","SMU","Arizona","Iowa","Colorado St.","Michigan St.","Maryland","Mississippi","Creighton","Illinois St.","UCF","Purdue","Coastal Carolina","Wisconsin","California","Florida","Duke","Louisville","Hawaii","Middle Tennessee","Utah","BYU","Boston College","Cincinnati","Vanderbilt","Villanova","South Carolina","Providence","Arizona St.","Arkansas","Michigan","George Mason","UNC Greensboro","Saint Mary's","Illinois Chicago","Notre Dame","Wichita St.","Richmond","Texas Tech","Oklahoma","Butler","Campbell","Air Force","Iowa St.","UNLV","New Mexico St.","Valparaiso","Miami FL","Texas St.","College of Charleston","Rhode Island","Memphis","Nevada","Liberty","Marquette","George Washington","Alabama","Virginia Tech","North Carolina St.","Santa Clara","USC","Louisiana Tech","Ohio St.","Rice","Indiana","Grand Canyon","Houston","Washington St.","Mississippi St.","VCU","Missouri St.","Dayton","Missouri","Old Dominion","Texas","Evansville","Akron","Oakland","Georgetown","Georgia","Texas A&M Corpus Chris","Florida Gulf Coast","Utah St.","DePaul","Pittsburgh","Nebraska","Duquesne","UMKC","Colorado","UTEP","Connecticut","Massachusetts","East Tennessee St.","Montana St.","UC Irvine","Clemson","Bradley","Rutgers","Temple","South Dakota","Virginia","St. John's","St. Bonaventure","Ohio","Miami OH","North Texas","Saint Louis","Kansas St.","San Diego","Portland","Oregon St.","Eastern Washington","Tennessee Martin","Xavier","Southern Illinois","Northern Kentucky","UAB","Bucknell","UMBC","South Dakota St.","East Carolina","UT Arlington","Toledo","UNC Wilmington","Fordham","Loyola Marymount","Northern Illinois","Lipscomb","Tennessee","Siena","Quinnipiac","LSU","South Alabama","South Florida","Samford","Cal St. Fullerton","Boise St.","Brown","Southern Miss","Marshall","North Dakota","Weber St.","Winthrop","UC Davis","Penn St.","Towson","Ball St.","Saint Peter's","Seattle","USC Upstate","Louisiana Lafayette","San Francisco","Little Rock","Boston University","Navy","Troy","Pepperdine","Monmouth","Sam Houston St.","Tulane","La Salle","Auburn","Eastern Michigan","Texas A&M","Stanford","Seton Hall","Fort Wayne","Oklahoma St.","Bowling Green","Vermont","Kent St.","Georgia St.","Pacific","Albany","North Florida","Mount St. Mary's","Fresno St.","Tulsa","New Mexico","Stephen F. Austin","High Point","New Orleans","Washington","Drake","Eastern Kentucky","Army","Southeast Missouri St.","Wright St.","Central Michigan","Tennessee Tech","Lamar","The Citadel","Idaho","San Diego St.","Iona","Hofstra","Chattanooga","UT Rio Grande Valley","Western Kentucky","Cal St. Bakersfield","FIU","LIU Brooklyn","James Madison","Stony Brook","Wake Forest","San Jose St.","Loyola Chicago","Florida Atlantic","New Hampshire","Incarnate Word","Florida A&M","William & Mary","Cal St. Northridge","Furman","Jacksonville","Detroit","Southern","UNC Asheville","Southern Utah","Stetson","Lafayette","Bryant","Canisius","Georgia Southern","Charleston Southern","Mercer","Hampton","Sacred Heart","Murray St.","Robert Morris","Houston Baptist","Morgan St.","Western Michigan","Gardner Webb","Wagner","Youngstown St.","Green Bay","North Carolina Central","Northern Iowa","Elon","Sacramento St.","North Dakota St.","American","UMass Lowell","Western Carolina","Harvard","Cleveland St.","Charlotte","Delaware","Morehead St.","Norfolk St.","Northern Arizona","UC Santa Barbara","Saint Joseph's","Nicholls St.","Manhattan","Oral Roberts","St. Francis NY","Buffalo","Maine","Marist","Indiana St.","Lehigh","Davidson","St. Francis PA","Longwood","UTSA","Montana","Penn","Jackson St.","Southeastern Louisiana","Holy Cross","Eastern Illinois","Northwestern St.","Portland St.","Appalachian St.","Binghamton","Utah Valley","McNeese St.","Milwaukee","Northern Colorado","Louisiana Monroe","Arkansas St.","Radford","VMI","Loyola MD","Wofford","Long Beach St.","Nebraska Omaha","Austin Peay","Alcorn St.","Hartford","Belmont","Abilene Christian","Idaho St.","SIU Edwardsville","Howard","Prairie View A&M","Yale","North Carolina A&T","Drexel","Cornell","Cal Poly","Bethune Cookman","Denver","Alabama St.","Grambling St.","Tennessee St.","Rider","Maryland Eastern Shore","Columbia","Coppin St.","Kennesaw St.","Western Illinois","UC Riverside","Colgate","Presbyterian","Niagara","Fairfield","Central Arkansas","NJIT","Princeton","Jacksonville St.","Delaware St.","Fairleigh Dickinson","IUPUI","Arkansas Pine Bluff","Texas Southern","Northeastern","Dartmouth","Central Connecticut","South Carolina St.","Savannah St.","Chicago St.","Alabama A&M","Mississippi Valley St."];
var edges = [[1,3,7,8,13,28,31,32,33,37,44,50,55,62,72,73,99,110,115,143,172,174,182,211,219,253,278,298,302,342],[4,5,17,29,35,43,45,59,61,65,71,75,82,103,105,125,143,151,179,191,197,200,209,282,347],[4,6,9,11,50,53,54,58,89,102,115,122,130,132,178,182,190,223,259,270,298,299,350],[2,14,17,30,36,41,48,58,74,91,114,123,124,128,134,140,143,145,166,171,187,197,208,236,292,350],[2,6,8,9,20,26,31,53,54,58,59,89,94,100,102,122,131,144,158,179,182,232,278,302],[1,8,17,29,35,38,43,45,75,77,82,100,103,123,124,125,178,179,185,187,197,227,247,267,302,329],[1,2,9,20,22,32,53,54,58,60,75,84,89,96,122,128,173,182,231,271,284,342],[10,11,30,31,32,37,50,62,70,72,73,96,110,115,149,153,157,209,219,230,239,269,270],[0,5,20,22,30,39,41,43,44,51,61,71,83,87,94,101,127,130,143,146,176,178,194,210,237,261],[4,12,18,24,25,52,53,54,58,59,89,111,122,191,197,297,301,320,337,342],[11,14,18,20,21,26,39,44,45,77,79,100,112,116,129,136,141,159,165,190,216,238,297,335],[14,18,20,36,45,61,73,77,84,87,100,130,151,201,203,230,340],[0,7,13,22,37,50,73,79,84,99,110,173,174,204,214,231,301,305,307,314],[7,12,31,37,47,62,73,99,110,115,168,172,177,189,219,286,316,330,346],[18,21,28,39,45,77,79,86,89,98,100,112,126,159,196,219,236,245,340,348,350],[27,57,59,97,98,102,126,134,170,191,193,220,253,282,292,316,319],[9,25,38,66,81,99,105,113,135,148,174,177,179,188,192,214,248,267,293,338],[1,5,20,29,35,43,48,74,75,80,82,87,103,109,125,155,178,179,193,197,214,242,295,342],[21,26,28,45,58,77,79,100,112,114,155,159,212,234,253,327,338,347],[15,57,59,60,64,97,103,191,193,208,220,285,295,305,324],[10,14,18,28,45,51,62,77,92,96,100,112,116,159,204,250,271,350],[10,11,14,18,20,45,52,77,79,93,112,122,160,162,182,218,257,262,311,337],[13,39,41,66,83,87,106,111,127,143,146,147,172,176,243,268,271,282],[22,28,42,43,55,73,82,91,93,98,100,102,116,128,180,271,273,280,300],[33,51,85,90,109,111,127,129,181,192,193,198,221,253,268,276,340],[11,24,38,64,66,81,83,103,106,113,119,135,148,163,174,192,234,269,318,324],[11,14,18,20,21,28,43,50,58,77,79,97,112,159,176,184,186,261,264,265,293,328,335],[15,49,63,136,147,167,186,233,238,241,252,290,296,297,300,326],[10,11,13,14,21,40,45,54,69,72,77,79,93,100,112,143,159,225,251,309,312,334,348],[15,35,43,75,76,82,103,109,125,134,158,179,197,285,305,317,336],[8,22,28,41,44,54,62,71,83,87,94,96,107,115,117,143,146,167,176,178,180,189,240,262,307],[0,7,12,20,30,32,37,50,59,62,65,80,99,110,115,159,170,219,226,254,274,275,290,322],[8,12,13,26,31,37,50,51,62,72,73,79,80,88,90,99,110,129,199,226,302,337,342],[63,150,153,222,227,267,302,317,329,338,341],[10,22,39,76,78,88,90,104,120,131,137,138,147,153,154,213,215,222,243,262,281,307],[29,33,43,75,82,103,108,125,179,194,197,292,312,326,329],[3,27,74,97,103,121,123,124,140,156,166,171,187,214,309,326,336],[13,42,73,160,176,218,242,324,344],[16,25,58,66,81,105,113,122,128,135,142,148,149,152,154,159,174,183,188,192,339,342],[30,41,44,58,74,83,143,146,176,178,195,211,265,307,322],[23,25,26,42,50,64,69,93,98,113,115,116,128,175,180,190,219,235,247,257,268,283],[6,13,22,30,31,45,69,76,83,87,94,143,146,148,172,176,178,184,215,286,346],[23,55,65,66,69,93,98,106,116,128,152,180,184,223,249,272,274,321],[59,75,103,125,174,179,197,206,208,289,317,334],[22,39,41,71,81,87,89,94,129,136,143,146,173,176,178,180,181,189,190,194,256,304],[10,11,16,20,26,28,32,69,79,89,100,112,159,182,190,228,311,324,327,334,340],[52,101,106,111,139,159,175,185,217,240,253,268,278,280,283,312],[68,107,149,169,206,211,228,232,240,256,259,299,301,314,331],[36,67,74,84,86,95,109,123,124,131,140,166,171,179,187,213,220,312,346],[70,98,218,230,250,251,261,266,281,294,317,348],[7,12,13,14,18,32,37,62,72,73,99,103,110,115,162,163,181,219,236,300,314,330,336,348],[19,24,54,85,86,90,111,121,129,134,146,192,198,221,253,276,302,324,346],[37,65,70,71,92,101,106,117,121,133,139,175,217,241,244,268,278,299],[2,6,9,52,54,78,89,97,120,122,146,199,224,245,269,280,281,309],[2,9,53,89,110,122,174,271,288,295,308],[14,17,34,35,38,39,40,42,69,79,93,98,116,128,132,157,180,184,265,295,334],[127,206,232,234,239,245,248,280,298,299,330,331],[15,59,85,97,158,191,208,225,229,234],[2,4,6,9,53,54,62,67,89,122,182,190,198,206,276,303,347,350],[15,57,97,129,150,193,213,224,233,266,329],[43,57,80,102,104,109,123,149,163,193,212,214,269,292,302,318,348],[36,49,65,71,85,130,161,202,230,233,250,251,261,276,294,326,348],[0,12,13,31,37,70,72,73,99,110,112,115,179,189,222,259,283,301,325,346],[27,136,147,167,170,174,205,207,222,290,293,296,297,310,312],[27,135,138,151,160,164,169,206,210,217,226,254,259,263,278,315,343],[23,38,46,70,84,88,101,106,117,121,152,175,226,268,275,278,286,307,344],[18,25,41,54,81,105,131,135,148,174,192,212,224,284,293,294,347],[15,19,57,59,92,97,109,111,125,140,151,160,187,191,193,197,208,209,220,267,273],[56,149,195,239,248,258,265,280,298,331,350],[23,39,40,93,94,98,116,128,180,191,245,259,279,310,311,340],[25,46,86,101,106,113,117,121,137,139,144,148,260,278,311,324,341],[22,27,39,41,83,87,94,121,146,161,164,234,239,297],[12,13,22,31,37,45,62,99,100,110,115,133,193,195,206,219,239,274,299,324],[12,31,72,99,168,221,238,268,272,282,290,293,322,323,333],[36,61,123,124,140,166,171,187,242,266,295,329],[5,15,16,36,42,43,82,85,103,123,125,170,171,178,179,196,197,267,282,303,316],[78,88,104,120,131,153,154,213,215,222,262,281,285,305,312,320,321,324],[10,20,28,42,45,100,105,112,154,159,169,232,250,252,259,284,339],[76,108,120,153,154,166,194,215,217,222,224,245,262,281,288,303,338],[0,4,11,14,18,20,68,77,112,159,201,245,258,304,310,338,350],[49,60,102,163,188,208,212,214,275,292,305,317,326,341,348,350],[25,46,65,66,68,105,113,114,135,148,174,184,192,212,246,312,316],[43,74,103,108,125,197,207,255,282,292],[44,87,102,104,125,143,146,151,153,178,186,264,265,288],[34,46,52,68,70,86,88,101,106,116,117,121,146,175,232,268,278,291,296,311,336],[90,98,111,198,201,221,253,256,271,276,337,348,349],[39,46,52,65,71,84,101,107,117,121,124,139,157,175,193,268,278,299,304],[39,44,119,174,176,213,288,349],[52,78,104,116,120,131,153,154,160,186,213,215,217,262,311,344],[53,54,58,71,126,131,182,224,296,302],[85,129,151,183,198,221,243,253,264,265,276,304,305],[57,81,109,118,119,137,141,154,161,177,183,185,203,238,240,247,257,273,298,324,326],[49,61,94,110,130,158,183,202,230,233,244,247,250,251,261,271,294,348],[1,13,23,47,55,69,98,105,116,164,175,254,311,326],[12,22,39,70,71,83,87,89,143,146,165,176,228,232,239,248],[63,133,156,181,186,194,205,212,224,245,281,285,288,293,308,334],[76,136,142,144,164,189,215,222,229,234,238,291,302,327,335],[15,57,59,67,109,191,193,196,220,292,309,335],[42,85,93,198,201,205,244,294,348],[7,12,13,21,37,69,78,115,154,159,177,248,264,273,303,313],[18,21,26,76,77,79,86,114,159,231,255],[99,106,121,139,261,279,284,300,330,345],[80,114,163,183,198,201,212,243,251,292,348],[1,29,57,82,89,124,125,126,128,163,179,197,255,296,301],[34,78,120,131,153,154,215,222,247,262,281],[13,25,66,81,113,135,140,148,168,174,189],[86,113,175,186,187,249,258,260,268,286,314,323,327],[47,83,109,134,139,149,206,211,228,230,240,259,264,294,299,301,347],[126,165,207,217,233,255,282,289,295,309,338],[33,74,104,134,150,158,187,227,267,302,317,329],[12,37,41,71,73,94,99,100,138,195,219,240,278,326,346],[85,90,129,198,201,253,287,301,348],[11,77,98,100,120,139,159,218,246,306,315,332,339,345],[2,7,66,98,135,148,174,175,268,270,283,313,335],[108,134,181,183,185,198,255,256,271,282,303,319,328,340],[0,12,18,29,32,37,42,47,50,72,73,77,99,110,135,138,219,244,272,313,321],[13,42,55,69,93,98,139,174,180,227,291,318],[46,101,106,121,139,144,171,175,200,203,210,268,273,279,332],[12,91,119,137,141,161,173,177,183,185,204,231,236,247,261,273,294],[91,141,203,204,273,304,321,328,340],[222,281,285,306,332,338],[46,101,106,175,233,268,287,310,314,348],[2,6,9,19,37,53,54,82,89,121,182,219,241,244,248,251,303,312,328],[36,74,120,124,140,150,171,266,267,269,318],[114,123,125,171,187,212,220,227,329],[35,185,281,312],[108,156,163,166,207,233,236,255,264,266,282,289,295,309,319],[101,102,199,201,204,212,222,232,237,243,261,264,287,304,310,318,341],[7,17,21,23,35,42,55,87,93,98,110,116,126,180,219,253,256,273,277],[85,90,111,121,127,190,198,221,243,276,310,342],[49,61,119,126,201,202,230,250,251,261,263,264,265,287,294],[70,76,78,120,153,154,170,194,213,222,231,262,341,349],[39,52,168,169,190,200,235,244,257,265,270,277,286,295,300,330,333],[68,101,190,206,217,218,223,258,274,279,291,306,324,327,333,338],[102,114,181,198,207,243,271,294,303,319,328,340],[57,105,113,148,174,192,225,234,241,252,314,321,331],[27,36,48,63,89,91,111,120,139,140,147,165,167,170,186,190,238,290,296,297,342],[90,118,119,141,177,183,185,202,203,221,230,250,273,285],[56,64,90,107,117,135,137,160,199,210,217,226,247,254,263,298,315,343],[65,84,101,106,121,142,162,268,278,323,339,345],[19,74,123,124,166,171,187,224,227,233,246,289],[49,119,137,148,177,183,185,203,207,215,276],[87,96,164,204,229,234,264,304,327,335],[8,12,22,39,71,83,87,107,122,142,176,178,204,290,331],[132,145,162,172,209,270,275,316,323,332,333,341],[209,237,270,274,275,276,306,332,333],[64,81,87,88,143,153,189,252,301,342],[59,63,153,170,215,229,238,250,290,296,297],[135,170,225,263,318,323,327],[47,56,121,123,147,206,211,225,228,237,259,299,301,318,337],[33,109,124,158,187,227,233,267,289,302,317,329],[15,16,19,35,57,59,97,140,208,220,227,247,309,331],[145,236,246,272,274,283,316,325,332,344,345],[104,120,154,215,281,349],[76,88,118,120,131,137,213,215,222,252,259,262,264,281,284],[108,126,156,207,214,233,255,256,266,289,295,309],[97,108,126,150,158,207,233,266,282,289,292,295,309],[11,56,68,121,195,228,232,238,239,241,248,270,280,298,331],[33,74,109,150,163,198,227,252,255,266,267,292,302,317,329],[10,11,12,20,21,70,80,100,101,112,116,202,246,330],[46,64,133,209,210,217,218,226,246,254,263,300,315,339,343],[111,119,121,137,141,177,189,199,203,233,247,273,280,320,326],[63,95,142,144,145,168,172,188,228,237,270,272,275,323,332,333,339],[212,233,267,292,296,341,348,350],[56,96,102,189,229,234,239,262,327,330,331,335],[27,63,76,136,147,167,171,196,217,269,290,293,296,338,342],[24,35,49,74,123,124,140,170,171,187,205,255,267,305,308],[117,147,192,203,238,266,290,296,334,341],[169,200,216,223,235,257,274,277,286,300,330,343],[133,168,200,235,236,257,277,283,286,300,325,330],[27,33,63,136,165,167,186,238,287,290,296,297,316,320,348,349],[36,123,124,140,156,167,187,317],[66,144,145,162,200,209,237,249,270,275,286,315,316,323,332,333,336,346],[95,120,129,194,196,204,205,207,224,231,245,269,285,288,293,334],[148,153,192,231,285],[65,70,96,101,106,121,132,139,240,263,268,277,278,315],[9,27,53,54,71,83,87,105,131,146,164,186,189,199,240],[118,119,141,183,203,230,247,248,302,303],[22,71,72,87,94,95,146,176,227,257,279,288,319,346],[19,29,35,82,125,156,180,197,207,227,260,276],[18,23,29,33,41,42,55,69,93,98,112,116,128,145,263,325,339,345],[79,119,161,230,234,256,258,271,303,304,319,328,340,350],[2,9,44,51,53,54,56,89,93,95,105,122,192,196,334,341],[91,119,137,161,185,230,243,246,265,349],[133,144,145,177,188,210,218,223,258,260,274,275,291,301,306,313,344],[89,91,118,119,137,141,161,177,183,203,261,273,301,321,332,335,350],[27,34,63,147,165,167,170,199,202,238,290,296,335,349],[15,123,124,171,251,255,314,327],[133,144,152,159,218,223,258,272,274,275,291,306,316,325,330],[142,155,164,229,234,327,335],[46,196,216,236,242,244,249,272,279,326,339,345],[15,19,57,59,67,125,151,187,193,198,205,208,220,281,317],[24,25,63,66,105,113,125,135,148,174,194,196,271],[15,19,57,59,60,97,104,151,191,208,227,245,308,309,341],[95,153,173,196,205,224,245,269,280,285,288,334],[47,56,157,169,239,246,248,280,298,331],[82,95,173,174,194,205,224,245,269,285,293,308,334],[103,125,150,163,213,247,266,302,317],[85,90,129,221,276,350],[154,204,213,229,309,310,337,340],[57,168,169,235,257,272,286,291,300,325,339],[127,199,204,212,243,287,304,310,322,328,334],[49,92,119,129,155,185,189,214,230,243,250,251,261,294],[108,118,119,137,171,183,185,204,226,247,251,341,348],[243,264,287,304,307,310,322,337,349],[68,125,173,224,269,281,285,288,293,312,334],[149,164,211,234,259,299,301,330,331],[108,134,156,158,167,194,233,255,266,282,289,295,309],[15,29,57,59,67,97,123,151,153,166,191,192,220,320,347],[67,118,144,145,156,162,198,237,267,270,275,323,332,333,335,339],[111,114,144,217,218,222,226,263,315,325,326,343],[27,47,143,149,154,206,228,240,259,296,299,301,327,334,337],[63,189,205,272,321,348],[78,104,118,120,131,153,215,222,262,276,281,304,314,320,337],[19,29,60,80,102,136,163,189,191,212,266,267,289,292,344,348],[120,131,189,291],[116,190,236,242,244,249,258,272,274,279,300,306,339,343,345],[160,210,226,254,280,315,343],[133,152,188,223,241,258,274,277,279,291,306,343],[12,27,32,37,47,52,62,64,72,73,99,104,132,146,262,298],[57,59,74,82,183,191,193,207,208,233],[49,82,85,90,111,198,202,208,253,265,271,276,294,305],[77,88,148,153,215,262,281],[113,133,157,188,230,236,257,258,274,286,291,306],[173,194,216,245,288,308,334],[311,314,326,338],[64,68,88,138,160,210,217,254,263,315,331,343,347],[141,150,246,267,302,309,329],[47,56,68,107,131,149,164,169,204,206,211,240,248,259,299,301],[215,225,234,250,275,314,318,319,327,335,346],[92,213,250,251,261,294],[204,225,284,312,320,321,341,349,350],[27,56,68,144,157,164,195,228,239,248,254,259,280,298,331],[108,266,295],[147,164,189,215,225,310,318,335],[162,200,257,272,286,300,330,335],[190,244,249,272,279,296,313,339,345],[101,117,144,145,162,168,188,209,250,270,272,273,275,323,333],[27,63,96,147,165,170,186,215,225,290,296,297,298,347],[56,195,280,298,308,331],[135,149,206,211,238,259,298,299,327],[225,226,265,311,314,324,326,338,346,347],[139,210,235,236,258,265,272,339,345],[24,127,199,204,230,251,264,287,304,310,322,337,349],[101,160,216,241,242,249,272,273,339,345],[95,162,173,205,224,269,285,288,293,308],[56,225,241,265,270,314,318,326,338,346,347],[118,119,137,141,161,177,183,185,203,217,334,349],[56,100,195,232,239,241,280,298,299,311,331],[105,190,236,242,244,246,257,272,279,339,345],[91,92,130,202,215,244,251,261,294,332],[49,61,92,102,130,137,183,202,230,250,261,294,310],[87,130,216,225,241,246,259,265,284,293,311,314,318,324,326,338,346],[43,54,85,90,111,129,134,155,198,221,276],[49,138,141,148,160,162,210,215,217,226,263,315,317,343],[155,156,233,266,282,289,308,309],[114,134,155,158,169,181,195,271,297,303,314,319,328,340],[169,200,235,250,300,324,328,330],[168,188,249,274,291,306,316,345,350],[195,206,284,290,299,301],[37,81,139,152,236,283,311,313,316,325,343,344],[49,92,230,237,247,250,294,318],[88,120,125,135,153,213,215,217,254,281,290],[111,119,209,210,217,254,275,315,338,343],[142,199,201,204,243,287,304,310,322,334,337],[199,225,241,311,314,318,324,326,338,346,347],[104,108,126,155,255,289,295,320],[33,214,317,329],[70,101,137,139,175,221,235,283,315,325,336],[37,95,149,224,285,293,308,318,334],[139,145,199,210,230,272,275,323,332],[52,114,134,167,303,340],[236,345,347],[118,119,141,156,161,177,183,185,203,247,274,326,332],[258,280,286,291,306,344],[145,152,237,258,270,332,344],[55,90,97,111,141,161,198,253,287],[83,132,168,169,190,200,235,244,257,279,286,330,336],[43,70,84,86,87,101,106,117,121,139,175,229,240,262,268,290,306],[216,229,236,242,244,249,257,272,280,339,345],[56,195,331,344],[63,76,88,104,131,153,213,215,222,292,312],[108,126,155,156,171,207,220,233,266,271,289,294,295,309,329],[25,152,175,235,244,260,313,315,316,325,333,345],[153,198,231,312,320,341,342,349,350],[104,196,224,225,231,245,269,284,288,293,308,324,334],[145,169,188,200,235,242,257,260,275,277,300,330,346],[49,87,127,147,170,199,201,243,310,322,328],[104,194,196,269,285,293,296,334],[124,155,166,171,212,233,255,266,282,309],[27,186,217,238,241,297,306],[218,274,279,302,306,316,330,338,345],[36,60,78,102,163,212,238,281,309,319,329,348],[174,194,224,288,334],[49,61,108,109,130,229,230,250,261],[233,242,255,266,289,309,329],[167,194,290,297,321,326,337],[27,93,127,147,165,167,170,186,200,211,261,277,290,296,310,334],[68,157,195,232,234,239,254,280,299,331],[206,211,239,259],[46,132,168,190,200,218,235,257,258,277,286,291,333],[27,47,107,149,206,211,228,240,259,299,304],[19,33,109,125,150,158,171,267,317,329],[18,102,108,114,134,150,181,256,267,271,319,328,340],[130,199,201,243,263,287,310],[231,284,312,320,321,341,349,350],[37,133,169,242,258,274,291,332,344],[94,127,142,171,199,201,204,213,243,261,264,287,294,304,310,322,337],[173,194,196,205,223,239,288,293],[205,233,266,295],[33,80,222,287,340],[246,257,314,324,326],[191,231,284,305,320,321,341,349,350],[152,188,197,242,260,263,277,283,306,316,325,344,345],[252],[120,145,195,210,226,235,263,306],[152,201,235,325,343,344],[95,109,141,158,227,281,302,329],[225,241,265,311,314,327,338],[57,134,147,156,181,220,255,256,271,295,328,329,340,341],[150,231,321,341,349,350],[284,305,312,314,320,341,347,349,350],[34,74,127,142,158,199,201,204,237,264,266,304,310,320],[144,145,172,187,209,237,241,249,270,275,306,314,315,327,332],[104,225,241,246,314,318,326,338,346],[145,152,218,260,274,283,311,316,330,344],[311,314,318,338,346,347],[164,189,225,229,234,314,320,322,335],[134,181,271,294,340],[33,80,150,158,267,317],[168,169,200,235,257,300,316],[228,280,299],[144,145,162,209,216,237,265,315,323],[37,145,200,209,237,242,249,270,275,323,332,344],[173,200,245,269,285,288,308],[152,164,189,218,234,258,279,309,330],[33,68,132,152,235,241,260,283,313,316,317,325,344],[127,150,164,192,201,204,264,266,287,304,307,310,311,320,322],[116,225,246,252,311,314,318],[142,216,236,244,249,272,279,345],[134,161,177,181,233,256,271,303,311,319,328],[231,312,320,349,350],[78,175,217,231,284,305,312,320,321,338,341,349,350],[20,64,92,105,160,168,184,185,217,226,254,263,274,315],[152,216,223,236,283,325],[190,216,272,274,279,306],[225,228,241,311,314,318,326,338],[125,225,246,252,311,314,318,324,338,346],[201,292,328],[312,350],[284,305,320,321,341,342,349]];
var display_size = 1200

$( function() {
    $( "#team_selection" ).autocomplete({
        source: teams
    });
});

function generate(){
    var root_team = document.getElementById('team_selection').value
    var root_id = teams.indexOf(root_team);

    radial_tree = [{'id': root_id, 'name': root_team}]
    nodes_to_visit = [root_id]
    nodes_visited = [root_id]
    while(nodes_to_visit.length > 0){
        team_id = nodes_to_visit.shift()
        for (var index in edges[team_id]){
            var child_id = edges[team_id][index]
            if ($.inArray(child_id, nodes_visited) == -1){
                nodes_visited.push(child_id)
                nodes_to_visit.push(child_id)
                radial_tree.push({'id': child_id, 'parent': team_id, 'name': teams[child_id]})
            }
        }
    }

    transform(radial_tree);
}

function transform(input_data){
    // create tree with d3
    var tree = d3.tree()
                 .size([6.283, 500])
                 .separation(function(a, b){ return (a.parent == b.parent ? 1 : 2) / a.depth});

    var stratify = d3.stratify()
                     .id(function(d){return d.id;})
                     .parentId(function(d){return d.parent;})

    var d3_root = tree(stratify(input_data))

    // links part
    var linker = d3.linkRadial()
                   .angle(function(d){ return d.x + 3.14159/2; })
                   .radius(function(d){ return d.y; });

    var d3_links = d3_root.links()
    var vega_links = []

    for (var i in d3_links){
        vega_links.push({'path': linker(d3_links[i]),
                         // 'source': d3_links[i].source,
                         // 'target': d3_links[i].target,
                         'x': display_size/2,
                         'y': display_size/2});
    }

    // change d3 tree to a vega tree
    var vega_tree = []
    vega_tree = vegafy_root(d3_root, vega_tree)

    // send data to vega for display
    update_vega(vega_tree, vega_links);
}

function vegafy_root(node, vega_tree){
    var vega_node = {'name': node.data.name,
                     'x': node.y*Math.cos(node.x) + display_size/2,
                     'y': node.y*Math.sin(node.x) + display_size/2,
                     'leftside': true,
                     'angle': node.x * 57.3,
                     'depth': node.depth}

    vega_tree.push(vega_node)

    for(var i in node.children){
        vega_tree = vegafy_root(node.children[i], vega_tree)
    }

    return vega_tree
}

function update_vega(nodes, links){
    var spec = "http://www.markmoog.com/vega/visualizations/radial_college_basketball.json"
    vega.embed('#vis', spec, {"actions":false, "width" : display_size, "height" : display_size}).then(function(result){
        var view = result.view;
        view.insert('tree', nodes);
        view.insert('links', links);
        view.run();
    });
}

